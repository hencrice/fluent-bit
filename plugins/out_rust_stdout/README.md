This is how to add a new plugin: https://github.com/fluent/fluent-bit/commit/2c71007b821f6815742365263ec09a926fa22431


Integration with cmake:
https://michael-f-bryan.github.io/rust-ffi-guide/setting_up.html
https://blog.devolutions.net/2018/06/insider-series-using-rust-code-in-a-cc-project-with-cmake


https://github.com/quietlychris/cmake_including_rust


Have a lot of trouble using add_custom_target, might just try this:
https://stackoverflow.com/questions/31162438/how-can-i-build-rust-code-with-a-c-qt-cmake-project